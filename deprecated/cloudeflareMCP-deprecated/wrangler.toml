name = "retell-brain-mcp"
main = "src/index.ts"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat"]
workers_dev = true

# Workers AI binding for edge LLM inference (optional)
[ai]
binding = "AI"

# D1 Database for semantic memory
[[d1_databases]]
binding = "DB"
database_name = "retell-brain-db"
database_id = "89199ac6-f0a7-4de3-9a8d-ea004beb0583"

# Durable Objects for stateful client brains
[[durable_objects.bindings]]
name = "BRAIN"
class_name = "ClientBrain"
script_name = "retell-brain-mcp"

[[migrations]]
tag = "v1"
new_classes = ["ClientBrain"]

# Environment variables (secrets set via: wrangler secret put <KEY>)
[vars]
ENVIRONMENT = "production"

# Secrets to add via CLI:
# wrangler secret put RETELL_API_KEY
# wrangler secret put GHL_API_KEY
# wrangler secret put GHL_LOCATION_ID
# wrangler secret put ANTHROPIC_API_KEY (optional, if not using Workers AI)
# wrangler secret put OPENAI_API_KEY (optional)
